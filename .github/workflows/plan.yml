name: View Terrafrom Plan

on: 
    pull_request:
      branches: main
jobs: 
    install-terrafrom:
      runs-on: ubuntu-latest
    
      steps:
        - name: Checkout
          uses: actions/checkout@v3
        - name: Configure AWS credentials
          uses: aws-actions/configure-aws-credentials@v4
          with:
            env:
            aws_access-key-id: $"{{ secrets.aws_access_key }}"
            aws-secret-access-key: $"{{ secrets.aws_secret_access_key}}"
            aws-region: "eu-west-2"
        - name: Initialise Terraform 
          run: Terrafrom init
        - name: Terraform plan
          run: Terraform plan