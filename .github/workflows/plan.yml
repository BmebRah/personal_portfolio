name: View Terrafrom Plan

on: 
    pull_request:
      branches: main
jobs: 
    install-terrafrom:
      runs-on: ubuntu-latest
    
      steps:
        - name: Checkout
          uses: actions/checkout@v3
        - name: Configure AWS credentials
          uses: aws-actions/configure-aws-credentials@v4
          with:
            AWS_ACCESS_KEY: $"{{ secrets.aws_access_key }}"
            AWS_SECRET_ACCESS_KEY: $"{{ secrets.aws_secret_access_key}}"
        - name: Initialise Terraform 
          run: Terrafrom init
        - name: Terraform plan
          run: Terraform plan